{"remainingRequest":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/babel-loader/lib/index.js!/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/ts-loader/index.js??ref--15-2!/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbook/Documents/Project/vuejs/form-cv/src/components/input/FileInput.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/src/components/input/FileInput.vue","mtime":1659029722540},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/babel.config.js","mtime":1659013891473},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBDb21wb25lbnQsIFJlZiwgUHJvcCwgRW1pdCwgTW9kZWwsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmxldCBGaWxlSW5wdXQgPSBjbGFzcyBGaWxlSW5wdXQgZXh0ZW5kcyBWdWUgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoLi4uYXJndW1lbnRzKTsgLy8gaGVscGVyOiBIZWxwZXJNb2RlbCA9IG5ldyBIZWxwZXJNb2RlbCgpOwoKICAgIHRoaXMub25BY3RpdmUgPSB0cnVlOwogICAgdGhpcy5vblByZXZpZXcgPSBmYWxzZTsKICAgIHRoaXMub25QcmV2aWV3VmlkZW8gPSBmYWxzZTsKICAgIHRoaXMubW9kVmFsdWUgPSBudWxsOwogICAgdGhpcy5zcmNQcmV2aWV3ID0gJyc7CiAgICB0aGlzLmZpbGVJbWFnZSA9IG51bGw7CiAgICB0aGlzLmltYWdlID0gbnVsbDsKICB9CgogIG9uRWxlbWVudENsaWNrKCkgewogICAgaWYgKHRoaXMuZmlsZUNob29zZSkgewogICAgICB0aGlzLmZpbGVDaG9vc2UuY2xpY2soKTsKICAgIH0KICB9CgogIG9uU2VsZWN0RmlsZShwYXlsb2FkKSB7CiAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudGFyZ2V0OwogICAgY29uc3QgZmlsZXMgPSBpbnB1dC5maWxlczsKCiAgICBpZiAoZmlsZXMgJiYgZmlsZXNbMF0pIHsKICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIGlmICh0aGlzLmZpbGVNYXhJbWFnZShmaWxlc1swXS5zaXplLCB0aGlzLm1heFNpemVJbWdJbktiKSkgewogICAgICAgIHJlYWRlci5vbmxvYWQgPSBwYXlsb2FkID0+IHsKICAgICAgICAgIGlmIChwYXlsb2FkLnRhcmdldCkgewogICAgICAgICAgICB0aGlzLnNyY1ByZXZpZXcgPSBwYXlsb2FkLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIHRoaXMuZmlsZUltYWdlID0gZmlsZXNbMF07IC8vIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIC8vICAgaWYgKHRoaXMuZmlsZUltYWdlKSB7CiAgICAgICAgICAgIC8vICAgICBhcGkuaGVscGVyCiAgICAgICAgICAgIC8vICAgICAgIC51cGxvYWRGaWxlKHRoaXMuZmlsZUltYWdlLCB0aGlzLmZpbGVJbWFnZS5uYW1lKQogICAgICAgICAgICAvLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmhlbHBlciA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5tb2RWYWx1ZSA9IHRoaXMuaGVscGVyLm1lZGlhX2lkCiAgICAgICAgICAgIC8vICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSkKICAgICAgICAgICAgLy8gICAgICAgfSkKICAgICAgICAgICAgLy8gICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgLy8gICAgICAgICByZWplY3QobmV3IEVycm9yKGVycikpCiAgICAgICAgICAgIC8vICAgICAgIH0pCiAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVzWzBdKTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGZpbGVzWzBdKTsKICAgICAgICB0aGlzLm9uUHJldmlldyA9IHRydWU7CiAgICAgICAgdGhpcy5vblByZXZpZXdWaWRlbyA9IGZhbHNlOwogICAgICAgIHRoaXMub25BY3RpdmUgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0KCiAgZmlsZU1heEltYWdlKHNpemUsIG1heCkgewogICAgY29uc3QgbWF4RmlsZSA9IG1heCAqIDEwMDA7CgogICAgaWYgKHNpemUgPD0gbWF4RmlsZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIG9uQ2hhbmdlRGF0ZVBpY2tlcigpIHsKICAgIHRoaXMuaW5wdXQodGhpcy5tb2RWYWx1ZSk7CiAgfQoKICBpbnB1dCh2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlOwogIH0KCn07CgpfX2RlY29yYXRlKFtNb2RlbCgnaW5wdXQnLCB7CiAgdHlwZTogTnVtYmVyCn0pXSwgRmlsZUlucHV0LnByb3RvdHlwZSwgInZhbHVlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEZpbGVJbnB1dC5wcm90b3R5cGUsICJydWxlcyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBGaWxlSW5wdXQucHJvdG90eXBlLCAibmFtZSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBGaWxlSW5wdXQucHJvdG90eXBlLCAidHlwZSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBGaWxlSW5wdXQucHJvdG90eXBlLCAic3JjIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEZpbGVJbnB1dC5wcm90b3R5cGUsICJhY2NlcHQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgRmlsZUlucHV0LnByb3RvdHlwZSwgIm1heFNpemVJbWdJbktiIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEZpbGVJbnB1dC5wcm90b3R5cGUsICJtYXhTaXplVmlkZW9JbktiIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1JlZigpXSwgRmlsZUlucHV0LnByb3RvdHlwZSwgImZpbGVDaG9vc2UiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ21vZFZhbHVlJyldLCBGaWxlSW5wdXQucHJvdG90eXBlLCAib25DaGFuZ2VEYXRlUGlja2VyIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtFbWl0KCldLCBGaWxlSW5wdXQucHJvdG90eXBlLCAiaW5wdXQiLCBudWxsKTsKCkZpbGVJbnB1dCA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czoge30KfSldLCBGaWxlSW5wdXQpOwpleHBvcnQgZGVmYXVsdCBGaWxlSW5wdXQ7"},{"version":3,"mappings":";AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,KAArC,EAA4CC,KAA5C,QAAyD,wBAAzD;AAIA,IAAqBC,SAAS,GAA9B,MAAqBA,SAArB,SAAuCP,GAAvC,CAA0C;EAA1CQ;wBAAA,CAYE;;IACA,gBAAW,IAAX;IACA,iBAAY,KAAZ;IACA,sBAAiB,KAAjB;IACA,gBAA0B,IAA1B;IACA,kBAA0C,EAA1C;IACA,iBAAyB,IAAzB;IACA,aAAQ,IAAR;EA4DD;;EA3DCC,cAAc;IACZ,IAAI,KAAKC,UAAT,EAAqB;MACnB,KAAKA,UAAL,CAAgBC,KAAhB;IACD;EACF;;EAEDC,YAAY,CAAEC,OAAF,EAAS;IACnB,MAAMC,KAAK,GAAGD,OAAO,CAACE,MAAtB;IACA,MAAMC,KAAK,GAAGF,KAAK,CAACE,KAApB;;IACA,IAAIA,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAlB,EAAuB;MACrB,MAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;MACA,IAAI,KAAKC,YAAL,CAAkBH,KAAK,CAAC,CAAD,CAAL,CAASI,IAA3B,EAAiC,KAAKC,cAAtC,CAAJ,EAA2D;QACzDJ,MAAM,CAACK,MAAP,GAAiBT,OAAD,IAAY;UAC1B,IAAIA,OAAO,CAACE,MAAZ,EAAoB;YAClB,KAAKQ,UAAL,GAAkBV,OAAO,CAACE,MAAR,CAAeS,MAAjC;YACA,KAAKC,SAAL,GAAiBT,KAAK,CAAC,CAAD,CAAtB,CAFkB,CAGlB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACD;QACF,CAnBD;;QAoBAC,MAAM,CAACS,aAAP,CAAqBV,KAAK,CAAC,CAAD,CAA1B;QACA,KAAKW,KAAL,CAAW,OAAX,EAAoBX,KAAK,CAAC,CAAD,CAAzB;QACA,KAAKY,SAAL,GAAiB,IAAjB;QACA,KAAKC,cAAL,GAAsB,KAAtB;QACA,KAAKC,QAAL,GAAgB,KAAhB;MACD;IACF;EACF;;EAEDX,YAAY,CAAEC,IAAF,EAAgBW,GAAhB,EAA2B;IACrC,MAAMC,OAAO,GAAGD,GAAG,GAAG,IAAtB;;IACA,IAAIX,IAAI,IAAIY,OAAZ,EAAqB;MACnB,OAAO,IAAP;IACD,CAFD,MAEO;MACL,OAAO,KAAP;IACD;EACF;;EAGDC,kBAAkB;IAChB,KAAKnB,KAAL,CAAW,KAAKoB,QAAhB;EACD;;EAGDpB,KAAK,CAAEqB,KAAF,EAAsB;IACzB,OAAOA,KAAP;EACD;;AA9EuC,CAA1C;;AACoCC,YAAjC/B,KAAK,CAAC,OAAD,EAAU;EAAEgC,IAAI,EAAEC;AAAR,CAAV,CAA4B;;AAC1BF,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AACAiC,YAAPjC,IAAI,EAAG;;AAEDiC,YAANlC,GAAG,EAAG;;AA6DPkC,YADC9B,KAAK,CAAC,UAAD,CACN;;AAKA8B,YADChC,IAAI,EACL;;AA5EmBG,SAAS,eAH7BN,SAAS,CAAC;EACTsC,UAAU,EAAE;AADH,CAAD,CAGoB,GAAThC,SAAS,CAAT;eAAAA","names":["Vue","Component","Ref","Prop","Emit","Model","Watch","FileInput","constructor","onElementClick","fileChoose","click","onSelectFile","payload","input","target","files","reader","FileReader","fileMaxImage","size","maxSizeImgInKb","onload","srcPreview","result","fileImage","readAsDataURL","$emit","onPreview","onPreviewVideo","onActive","max","maxFile","onChangeDatePicker","modValue","value","__decorate","type","Number","components"],"sourceRoot":"","sources":["/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macbook/Documents/Project/vuejs/form-cv/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbook/Documents/Project/vuejs/form-cv/src/components/input/FileInput.vue?vue&type=script&lang=ts&"],"sourcesContent":["\nimport Vue from 'vue'\nimport { Component, Ref, Prop, Emit, Model, Watch } from 'vue-property-decorator'\n@Component({\n  components: {}\n})\nexport default class FileInput extends Vue {\n  @Model('input', { type: Number }) value!: number;\n  @Prop() rules!: string;\n  @Prop() name!: string;\n  @Prop() type!: string;\n  @Prop() src!: string;\n  @Prop() accept!: string;\n  @Prop() maxSizeImgInKb!: number;\n  @Prop() maxSizeVideoInKb!: number;\n\n  @Ref() fileChoose!: HTMLElement;\n\n  // helper: HelperModel = new HelperModel();\n  onActive = true;\n  onPreview = false;\n  onPreviewVideo = false;\n  modValue: number | null = null;\n  srcPreview: string | ArrayBuffer | null = '';\n  fileImage: File | null = null;\n  image = null;\n  onElementClick () {\n    if (this.fileChoose) {\n      this.fileChoose.click()\n    }\n  }\n\n  onSelectFile (payload) {\n    const input = payload.target\n    const files = input.files\n    if (files && files[0]) {\n      const reader = new FileReader()\n      if (this.fileMaxImage(files[0].size, this.maxSizeImgInKb)) {\n        reader.onload = (payload) => {\n          if (payload.target) {\n            this.srcPreview = payload.target.result\n            this.fileImage = files[0]\n            // return new Promise((resolve, reject) => {\n            //   if (this.fileImage) {\n            //     api.helper\n            //       .uploadFile(this.fileImage, this.fileImage.name)\n            //       .then((response) => {\n            //         this.helper = Object.assign({}, response.data)\n            //         this.modValue = this.helper.media_id\n            //         resolve(response)\n            //       })\n            //       .catch((err) => {\n            //         reject(new Error(err))\n            //       })\n            //   }\n            // })\n          }\n        }\n        reader.readAsDataURL(files[0])\n        this.$emit('input', files[0])\n        this.onPreview = true\n        this.onPreviewVideo = false\n        this.onActive = false\n      }\n    }\n  }\n\n  fileMaxImage (size: number, max: number) {\n    const maxFile = max * 1000\n    if (size <= maxFile) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  @Watch('modValue')\n  onChangeDatePicker () {\n    this.input(this.modValue)\n  }\n\n  @Emit()\n  input (value: number | null) {\n    return value\n  }\n}\n"]}]}